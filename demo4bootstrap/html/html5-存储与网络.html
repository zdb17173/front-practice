<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <!-- 网页icon -->
    <link rel="shortcut icon" href="../resources/fluidicon.png"/>
    <title>h5-存储与网络</title>

</head>

<label for="">
    用户名：<input type="text" class="userName"/>
</label>
<br/><br/>
<label for="">
    密 码：<input type="password" class="pwd"/>
</label>
<br/><br/>
<label for="">
    <input type="checkbox" class="check" id=""/>记住密码
</label>
<br/><br/>
<button>登录</button>

<script>

    //f12 在localStorage可以查看
    var userName = document.querySelector('.userName');
    var pwd = document.querySelector('.pwd');
    var chk = document.querySelector('.check');
    var btn = document.querySelector('button');

    //        当点击登录的时候 如果勾选“记住密码”，就存储密码；否则就清除密码
    btn.onclick = function () {
        if (chk.checked) {
//                记住数据
            window.localStorage.setItem('userName', userName.value);
            window.localStorage.setItem('pwd', pwd.value);
            window.localStorage.setItem('remember', chk.checked);
        } else {
//                清除数据
            window.localStorage.removeItem('userName');
            window.localStorage.removeItem('pwd');
            window.localStorage.removeItem('remember');
        }
    }
    //        下次登录时，如果记录的有数据，就直接填充
    function initUserLoginInfo() {
        userName.value = window.localStorage.getItem('userName');
        pwd.value = window.localStorage.getItem('pwd');
        chk.checked = window.localStorage.getItem('remember');
    }

    window.onload = function () {
        initUserLoginInfo();
    }

    //网络链接时触发（首次打开页面不触发该事件）
    window.addEventListener('online', function () {
        alert('网络连接建立！');
    });

    //网络链接断开时触发
    window.addEventListener('offline', function () {
        alert('网络连接断开！');
    })
</script>
</body>

</html>